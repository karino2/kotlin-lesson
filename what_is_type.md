---
title: "型とは何か？"
layout: page
---
kotlinでは型が重要です。けれど型とは何か、というのはなかなか初心者にわかりやすく説明されていない事が多い。
そこでここでは、プログラム初心者向けに型とはなにかという説明をしてみたい。

けれど、型とは何か、というのはなかなか説明が難しい。
それよりも、ある程度慣れて、なんとなく「こういうものか」と思うようになる類のものと思う。

そこでここではグダグダと説明を書くけれど、ある程度型を使うようになって「こういうものか」と思えるようになったら、ここに書いた説明は忘れてOKです。
あくまでそう思えるようになるまでの自転車の補助輪のようなものという事で。

以下いくつか、型とは何か、みたいな事を、比喩も交えて書いてみます。

## プログラムとはデータとそれに対する処理である

プログラムを、以下の２つに分けて考える、という考え方がある。

1. データ
2. データに対する処理

プログラムとは「データとそれに対する処理である」と考える事が出来る。

データとは、1とか2とか"Hello World"とかそういったもの。

処理とは足したり引いたり連結したり空白で２つに分けたり、といった事。
このように考えた時のデータについての何かが型と言える。
以下見ていきましょう。

## ゲームに例えると「対戦格闘」が型、「ストIIダッシュ」や「真サム」がデータ

ゲームの例を考えてみる。例えば「対戦格闘」などは型と言える。
一方で「ストIIダッシュ」とか「スパIIX」とか「ガロスペ」とか「真サム」などはデータと言える。

「RPG」なども型と言える。一方ドラクエIIIとかFF4などはデータと言える。

RPGとかシミュレーションとか対戦格闘とか、そういうのが型。

また、「カプコンのゲーム」と「SNKのゲーム」なども型と言える。
分類の仕方はいろいろありえて、解こうとしている問題に合わせて自分で分類を考えて作っていくのがプログラムの重要な一部だ。

## 型とはネジ穴とドライバーにおけるネジ穴の形のようなもの

ドライバーにプラスとマイナスがある。
これは、プラスのネジにマイナスのドライバーを使ってしまわないため、わざと形を変えてある。
型もこれに似ている。

プログラムの部品と部品を組み合わせる時に、形があっているもの同士しか組み合わせられないようにするための何かが型。
型があっていると部品同士はつながる。
型が違っているとつながらない。

そしてつながってはいけない部品同士が間違ってつながらないように、型をいろいろ作っていく。

先ほどのゲームの例に戻ると、「対戦格闘」なら「ダイアグラム」を作る事が出来る。
一方で「RPG」でダイアグラムを作る事は出来ない。

「RPG」なら「ダンジョンのマップ」を作る事が出来る。けれど「対戦格闘」の「ダンジョンのマップ」を作る事は出来ない。

こうした型ごとに出来る処理をいろいろ作る事が出来て、
それは型が同じデータに対してだけ行える。

以下のような処理を考えてみる。

{% capture cod1 %}
fun main() {
  val a = 1
  val b = 2
  val c = a-b
  println("a-bは$c")

  val d = "abc"
  val e = "def"
  val f = d+e

  println("d+eは$f")
}
{% endcapture %}
{% include kotlin_quote.html body=cod1 %}

aとbは数字なので、引き算が出来る。

一方、dとeは文字列なので足す事は出来るが、数字の足すとはちょっと意味が違う（文字をつなげる事になる）。
なにより、引く事は出来ない。d-eとは書けない（書いてみてエラーになるのを確かめよう！）。

型とはこのように、ある「処理」とつなげられるかどうかを表すための、間違ったものがつながらないようにちょっと特別な形をつける事である。
星型ドライバー、プラスドライバー、マイナスドライバーなどのようにわざと形を変える事で、ドライバーとネジの組み合わせがあっているものだけが回せるようにする。

## 変数には（ほとんど）すべてに型がある

変数には、（genericsの例外を除いて）全てに型があります。
genericsの話はこのシリーズでは多分しないので、全てに型がある、と思っていてよろしい。

という事で、以下のa、bには自動で型がついています。

```kotlin
val a = 1
val b = "abc"
```

aはIntという型、bはStringという型になります。
とりあえずIntとかStringが何か、というのは後述するとして、ここでは全ての変数に型というのが勝手についている、
という事が大切です。